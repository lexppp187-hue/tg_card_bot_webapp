import React, {useState} from 'react'
export default function PackOpen(){const [cards,setCards]=useState([]);async function openPack(){const res=await fetch('/api/open_pack',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({initDataUnsafe: window.Telegram?.WebApp?.initDataUnsafe || {}})});const j=await res.json();if(j.error){alert(j.error);return;}setCards(j.cards);setTimeout(()=>setCards([]),8000);}return (<div><h3>Open Pack</h3><button onClick={openPack}>Open free pack (5)</button><div className='pack-area' style={{marginTop:12}}>{cards.map((c,i)=>(<div className={'pack-card flipped'} key={i}><div className='back face'>PACK</div><div className='front face'><img src={c.image||'https://via.placeholder.com/300x200?text=Card'} alt={c.name} style={{width:'100%',height:'100%',objectFit:'cover'}}/></div></div>))}</div></div>)}
